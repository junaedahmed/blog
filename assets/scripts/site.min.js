!function(){"use-strict";function a(a,b){a.className+=" "+b}function b(a,b){var c=new RegExp("\\W"+b+"\\b|\\b"+b+"\\b\\W?");a.className=a.className.replace(c,"")}function c(c,d){c.className.indexOf(d)===-1?a(c,d):b(c,d)}var d={};d.init=function(){this.jsClass(),this.touchTest(),this.navicon(),this.scrollTop(),null!==this.select.twitter&&this.twitter(),null!==this.select.hideCode&&window.localStorage&&"true"!==localStorage.hideCode&&this.hideCode(),this.select.skillsList.length&&this.skillsList()},d.select={twitter:document.getElementById("latest-tweets"),hideCode:document.getElementById("hide-my-code"),skillsList:document.getElementsByClassName("with-sub")},d.jsClass=function(){b(document.documentElement,"no-js"),a(document.documentElement,"js")},d.touchTest=function(){"ontouchstart"in window&&(document.documentElement.className="touch")},d.navicon=function(){var a=document.getElementsByClassName("primary-nav")[0];document.getElementById("navicon").addEventListener("click",function(){c(a,"open"),c(this," open")})},d.twitter=function(){function a(a){for(var b=JSON.parse(a),d="",e=0;e<b.length&&e<5;e++)d+='<li class="tweet"><svg class="icon" height="20" width="20"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#twitter"></use></svg>'+b[e].replace(/(http(s*):\/\/(t.co\/[a-zA-z0-9]*))/g,'<a href="$1">$3</a>').replace(/(@([a-z*A-Z*_*0-9*]*))/g,'<a href="http://twitter.com/$2">$1</a>').replace(/#([a-zA-Z0-9\.\/-_+=?&\~\']*)/g,'<a href="http://twitter.com/search/%23$1">#$1</a>');c.select.twitter.innerHTML=d}function b(){c.select.twitter.className+=" is-hidden",document.getElementById("latest-tweets-heading").className+=" is-hidden"}var c=this,d=new XMLHttpRequest;d.onreadystatechange=function(){4===d.readyState&&200===d.status?a(d.responseText):4===d.readyState&&b()},d.open("GET","//mstrutt.co.uk:8080/tweets.json",!0),d.send()},d.hideCode=function(){var a=document.getElementsByClassName("see-my-code")[0];a.style.display="block",this.select.hideCode.addEventListener("click",function(b){b.preventDefault(),a.style.display="none",localStorage.hideCode="true"})},d.skillsList=function(){var a,d,e=function(){c(this,"open")},f=function(a){13===a.keyCode||32===a.keyCode?(a.preventDefault(),c(this,"open")):27===a.keyCode&&(a.preventDefault(),b(this,"open"))};for(d=0;d<this.select.skillsList.length;d++)a=this.select.skillsList[d],a.style.height=a.offsetHeight+"px",c(a,"open"),a.setAttribute("tabindex","0"),a.addEventListener("click",e),a.addEventListener("keydown",f)},d.scrollTop=function(){document.getElementById("gotToTop").addEventListener("click",function(a){a.preventDefault(),window.scroll(0,0)})},window.addEventListener("load",function(){d.init()})}();